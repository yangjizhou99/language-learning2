# 对齐练：范例→仿写（难度递进）

这是一个创新的语言学习功能，通过 AI 生成高质量的训练包，帮助学习者从简单对话逐步提升到复杂写作。

## 功能特点

### 🎯 6步递进式训练

1. **D1**: 简单对话 (dialogue_easy)
2. **D2**: 复杂对话 (dialogue_rich)
3. **T3**: 讨论交流 (discussion)
4. **W4**: 短文写作 (writing_short)
5. **T5**: 任务邮件 (task_email)
6. **W6**: 长文写作 (writing_long)

### 🌍 多语言支持

- 英语 (English)
- 日语 (日本語)
- 中文 (简体中文)

### 🎨 风格定制

- **Formality**: neutral/formal/casual
- **Tone**: friendly/direct/polite/academic
- **Length**: concise/balanced/detailed
- **Voice**: first/second/third
- **Extras**: empathy, step_by_step, examples

## 使用方法

### 1. 访问管理页面

```
/admin/alignment/ai
```

### 2. 配置训练包参数

- 选择目标语言
- 输入训练主题（如：订餐、投诉退货、组会汇报）
- 添加相关标签
- 选择 AI 模型和参数
- 调整风格偏好

### 3. 生成训练包

点击"生成训练包"按钮，AI 将自动生成包含 6 个步骤的完整训练包。

### 4. 预览和微调

生成后可以预览 JSON 内容，直接在文本框中微调后再保存。

### 5. 保存入库

点击"保存为草稿"将训练包保存到数据库。

## 技术架构

### 数据库表结构

- `alignment_packs`: 训练包主表
- `alignment_attempts`: 学员练习记录表

### API 端点

- `POST /api/admin/alignment/generate`: 生成训练包
- `POST /api/admin/alignment/save`: 保存训练包

### 数据模型

每个训练包包含：

- 基本信息（语言、主题、标签）
- 风格偏好设置
- 6个训练步骤的详细内容
- AI 生成记录和用量统计

## 训练步骤详解

### D1/D2: 对话训练

- **prompt**: 清晰的练习指令
- **exemplar**: 高质量范例对话
- **key_phrases**: 关键短语列表
- **patterns**: 常用句型模式
- **hints**: 练习提示
- **rubric**: 评分标准

### T3: 讨论训练

- 培养深度思考和表达能力
- 提供讨论框架和要点

### W4: 短文写作

- **checklist**: 写作检查清单
- 培养结构化思维

### T5: 任务邮件

- **templates**: 邮件模板变体
- 实用商务写作技能

### W6: 长文写作

- **outline**: 写作大纲
- 综合语言能力训练

## 优势特点

1. **AI 驱动**: 自动生成高质量内容，减少人工成本
2. **递进式**: 从简单到复杂，循序渐进
3. **实用性强**: 贴近真实场景，学以致用
4. **个性化**: 支持风格定制和标签分类
5. **可扩展**: 支持多语言、多主题扩展

## 后续开发计划

- [ ] 学员练习界面
- [ ] AI 评分和反馈系统
- [ ] 进度跟踪和数据分析
- [ ] 社区分享和推荐
- [ ] 移动端适配

## 注意事项

1. 需要配置 Supabase 环境变量
2. 需要有效的 AI API 密钥
3. 生成的内容建议人工审核后再发布
4. 建议定期备份训练包数据

---

_这个功能为语言学习提供了全新的训练模式，通过 AI 辅助的递进式训练，帮助学习者更高效地掌握目标语言。_
