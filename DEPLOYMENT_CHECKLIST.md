# Shadowing ç­‰çº§ç³»ç»Ÿéƒ¨ç½²æ£€æŸ¥æ¸…å•

## ğŸš€ éƒ¨ç½²å‰æ£€æŸ¥

### 1. ç¯å¢ƒå˜é‡é…ç½®
- [ ] `OPENROUTER_API_KEY` - OpenRouter APIå¯†é’¥
- [ ] `DEEPSEEK_API_KEY` - DeepSeek APIå¯†é’¥
- [ ] `OPENAI_API_KEY` - OpenAI APIå¯†é’¥
- [ ] `GOOGLE_TTS_CREDENTIALS` - Google TTSå‡­æ®ï¼ˆJSONå­—ç¬¦ä¸²æˆ–æ–‡ä»¶è·¯å¾„ï¼‰
- [ ] `GOOGLE_TTS_PROJECT_ID` - Google Cloudé¡¹ç›®ID
- [ ] `SUPABASE_SERVICE_KEY` - SupabaseæœåŠ¡å¯†é’¥
- [ ] `NEXT_PUBLIC_SUPABASE_URL` - Supabaseé¡¹ç›®URL
- [ ] `NEXT_PUBLIC_SUPABASE_ANON_KEY` - SupabaseåŒ¿åå¯†é’¥

### 2. æ•°æ®åº“è®¾ç½®
- [ ] è¿è¡Œæ•°æ®åº“è¿ç§»è„šæœ¬ï¼š`supabase/migrations/20250120000002_create_shadowing_tables.sql`
- [ ] ç¡®è®¤ `shadowing_items` è¡¨åˆ›å»ºæˆåŠŸ
- [ ] ç¡®è®¤ `shadowing_attempts` è¡¨åˆ›å»ºæˆåŠŸ
- [ ] éªŒè¯è¡Œçº§å®‰å…¨ç­–ç•¥ï¼ˆRLSï¼‰å·²å¯ç”¨
- [ ] ç¡®è®¤ç´¢å¼•å·²åˆ›å»º

### 3. å­˜å‚¨é…ç½®
- [ ] åœ¨Supabase Storageä¸­åˆ›å»º `audio` æ¡¶
- [ ] è®¾ç½®é€‚å½“çš„å­˜å‚¨ç­–ç•¥
- [ ] ç¡®è®¤å­˜å‚¨æ¡¶å¯å…¬å¼€è®¿é—®ï¼ˆæˆ–é…ç½®æ­£ç¡®çš„CORSç­–ç•¥ï¼‰

## ğŸ”§ éƒ¨ç½²æ­¥éª¤

### 1. æ•°æ®åº“è¿ç§»
```sql
-- åœ¨Supabaseæ§åˆ¶å°æ‰§è¡Œ
\i supabase/migrations/20250120000002_create_shadowing_tables.sql
```

### 2. é‡å¯åº”ç”¨æœåŠ¡
```bash
# å¦‚æœä½¿ç”¨PM2
pm2 restart your-app-name

# å¦‚æœä½¿ç”¨Docker
docker-compose restart

# å¦‚æœä½¿ç”¨Vercel/Netlifyï¼Œä¼šè‡ªåŠ¨é‡æ–°éƒ¨ç½²
```

### 3. éªŒè¯éƒ¨ç½²
- [ ] è®¿é—® `/practice/shadowing` ç¡®è®¤ç»ƒä¹ é¡µé¢æ­£å¸¸åŠ è½½
- [ ] è®¿é—® `/admin/shadowing/ai` ç¡®è®¤ç®¡ç†å‘˜é¡µé¢æ­£å¸¸åŠ è½½
- [ ] æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯

## ğŸ§ª åŠŸèƒ½æµ‹è¯•

### 1. å­¦ç”Ÿç«¯åŠŸèƒ½æµ‹è¯•
- [ ] è¯­è¨€åˆ‡æ¢åŠŸèƒ½æ­£å¸¸
- [ ] ç­‰çº§é€‰æ‹©å™¨æ˜¾ç¤ºæ­£ç¡®
- [ ] æ¨èç­‰çº§è‡ªåŠ¨è·å–
- [ ] è·å–ä¸‹ä¸€é¢˜åŠŸèƒ½æ­£å¸¸
- [ ] å½•éŸ³åŠŸèƒ½æ­£å¸¸
- [ ] è¯­éŸ³è¯†åˆ«åŠŸèƒ½æ­£å¸¸
- [ ] ç»ƒä¹ ç»“æœè®°å½•åŠŸèƒ½æ­£å¸¸

### 2. ç®¡ç†å‘˜ç«¯åŠŸèƒ½æµ‹è¯•
- [ ] AIç”Ÿæˆé¢˜åº“åŠŸèƒ½æ­£å¸¸
- [ ] TTSéŸ³é¢‘åˆæˆåŠŸèƒ½æ­£å¸¸
- [ ] é¢˜åº“ä¿å­˜åŠŸèƒ½æ­£å¸¸
- [ ] æ‰¹é‡æ“ä½œåŠŸèƒ½æ­£å¸¸

### 3. APIæ¥å£æµ‹è¯•
- [ ] `/api/shadowing/recommended` - è·å–æ¨èç­‰çº§
- [ ] `/api/shadowing/next` - è·å–ä¸‹ä¸€é¢˜
- [ ] `/api/shadowing/attempts` - è®°å½•ç»ƒä¹ ç»“æœ
- [ ] `/api/admin/shadowing/generate` - AIç”Ÿæˆé¢˜åº“
- [ ] `/api/admin/shadowing/synthesize` - åˆæˆéŸ³é¢‘
- [ ] `/api/admin/shadowing/save` - ä¿å­˜åˆ°é¢˜åº“

## ğŸ› å¸¸è§é—®é¢˜æ’æŸ¥

### 1. æ•°æ®åº“è¿æ¥é—®é¢˜
```bash
# æ£€æŸ¥Supabaseè¿æ¥
curl -X GET "https://your-project.supabase.co/rest/v1/" \
  -H "apikey: your-anon-key"
```

### 2. TTSæœåŠ¡é—®é¢˜
```bash
# æ£€æŸ¥Google TTSå‡­æ®
echo $GOOGLE_TTS_CREDENTIALS | jq '.project_id'
```

### 3. AIæœåŠ¡é—®é¢˜
```bash
# æµ‹è¯•OpenRouter API
curl -X POST "https://openrouter.ai/api/v1/chat/completions" \
  -H "Authorization: Bearer $OPENROUTER_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{"model":"openai/gpt-4o-mini","messages":[{"role":"user","content":"Hello"}]}'
```

### 4. å­˜å‚¨é—®é¢˜
```bash
# æ£€æŸ¥Supabase Storage
curl -X GET "https://your-project.supabase.co/storage/v1/bucket/audio" \
  -H "apikey: your-anon-key"
```

## ğŸ“Š æ€§èƒ½ç›‘æ§

### 1. å…³é”®æŒ‡æ ‡
- [ ] APIå“åº”æ—¶é—´ < 2ç§’
- [ ] TTSåˆæˆæ—¶é—´ < 10ç§’
- [ ] é¡µé¢åŠ è½½æ—¶é—´ < 3ç§’
- [ ] éŸ³é¢‘æ’­æ”¾å»¶è¿Ÿ < 1ç§’

### 2. èµ„æºä½¿ç”¨
- [ ] æ•°æ®åº“è¿æ¥æ•°æ­£å¸¸
- [ ] å­˜å‚¨ç©ºé—´å……è¶³
- [ ] APIè°ƒç”¨é¢‘ç‡åœ¨é™åˆ¶å†…
- [ ] å†…å­˜ä½¿ç”¨æ­£å¸¸

## ğŸ”’ å®‰å…¨æ£€æŸ¥

### 1. è®¤è¯æˆæƒ
- [ ] æ‰€æœ‰APIæ¥å£éƒ½æœ‰é€‚å½“çš„è®¤è¯
- [ ] ç®¡ç†å‘˜åŠŸèƒ½æœ‰æƒé™æ§åˆ¶
- [ ] ç”¨æˆ·æ•°æ®éš”ç¦»æ­£ç¡®

### 2. æ•°æ®ä¿æŠ¤
- [ ] æ•æ„Ÿä¿¡æ¯ä¸æš´éœ²åœ¨å‰ç«¯
- [ ] APIå¯†é’¥å®‰å…¨å­˜å‚¨
- [ ] ç”¨æˆ·æ•°æ®åŠ å¯†ä¼ è¾“

## ğŸ“ éƒ¨ç½²åé…ç½®

### 1. åˆå§‹é¢˜åº“ç”Ÿæˆ
1. è®¿é—® `/admin/shadowing/ai`
2. ä¸ºæ¯ç§è¯­è¨€å’Œç­‰çº§ç”ŸæˆåŸºç¡€é¢˜åº“
3. å»ºè®®æ¯ä¸ªç­‰çº§è‡³å°‘ç”Ÿæˆ10-20æ¡é¢˜ç›®

### 2. ç”¨æˆ·å¼•å¯¼
1. æ›´æ–°ç”¨æˆ·æ‰‹å†Œ
2. æ·»åŠ åŠŸèƒ½è¯´æ˜
3. æä¾›ä½¿ç”¨æ•™ç¨‹

### 3. ç›‘æ§å‘Šè­¦
1. è®¾ç½®APIé”™è¯¯ç›‘æ§
2. é…ç½®å­˜å‚¨ç©ºé—´å‘Šè­¦
3. ç›‘æ§ç”¨æˆ·ä½¿ç”¨æƒ…å†µ

## ğŸš¨ ç´§æ€¥å›æ»š

å¦‚æœéƒ¨ç½²åå‡ºç°é—®é¢˜ï¼Œå¯ä»¥å¿«é€Ÿå›æ»šï¼š

### 1. æ•°æ®åº“å›æ»š
```sql
-- åˆ é™¤æ–°åˆ›å»ºçš„è¡¨
DROP TABLE IF EXISTS shadowing_attempts;
DROP TABLE IF EXISTS shadowing_items;
```

### 2. ä»£ç å›æ»š
```bash
# å›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬
git revert HEAD
git push origin main
```

### 3. ç¯å¢ƒå˜é‡å›æ»š
- æ¢å¤ä¹‹å‰çš„ç¯å¢ƒå˜é‡é…ç½®
- é‡å¯åº”ç”¨æœåŠ¡

## âœ… éƒ¨ç½²å®Œæˆæ£€æŸ¥

- [ ] æ‰€æœ‰åŠŸèƒ½æµ‹è¯•é€šè¿‡
- [ ] æ€§èƒ½æŒ‡æ ‡è¾¾æ ‡
- [ ] å®‰å…¨æ£€æŸ¥é€šè¿‡
- [ ] ç”¨æˆ·åé¦ˆæ­£å¸¸
- [ ] ç›‘æ§å‘Šè­¦é…ç½®å®Œæˆ
- [ ] æ–‡æ¡£æ›´æ–°å®Œæˆ
- [ ] å›¢é˜ŸåŸ¹è®­å®Œæˆ

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚é‡åˆ°éƒ¨ç½²é—®é¢˜ï¼Œè¯·ï¼š
1. æŸ¥çœ‹åº”ç”¨æ—¥å¿—
2. æ£€æŸ¥é”™è¯¯ç›‘æ§
3. å‚è€ƒæ•…éšœæ’é™¤æŒ‡å—
4. è”ç³»æŠ€æœ¯æ”¯æŒå›¢é˜Ÿ

---

**éƒ¨ç½²æ—¥æœŸ**: ___________  
**éƒ¨ç½²äººå‘˜**: ___________  
**æ£€æŸ¥äººå‘˜**: ___________  
**çŠ¶æ€**: â­• å¾…éƒ¨ç½² / âœ… å·²å®Œæˆ / âŒ å¤±è´¥
